<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <style>
      .container {
        display: flex;
        flex-wrap: wrap;
        gap: 10px;
        margin-top: 20px;
        margin-bottom: 20px;
      }
      .box {
        border: 1px solid #ccc;
        width: 100px;
        height: 100px;
        background-color: rgb(161, 238, 238);
        display: inline-block;
      }
    </style>
  </head>
  <body>
    <!-- 
    Задание 2 (тайминг 30 минут)
    Вы должны создать веб-страницу, которая позволяет пользователю динамически
    управлять элементами на странице. Ниже приведены основные требования и
    функциональность:
        1. На странице должны быть кнопки "Добавить элемент", "Удалить элемент" и
        "Клонировать элемент".
        2. При нажатии на кнопку "Добавить элемент" на страницу добавляется новый
        квадратный элемент (<div>) с размерами 100x100 пикселей. Этот элемент
        должен иметь класс .box и содержать текст, указывающий порядковый номер
        элемента (1, 2, 3 и так далее).
        3. При нажатии на кнопку "Удалить элемент" удаляется последний добавленный
        элемент, если таковой имеется.
        4. При нажатии на кнопку "Клонировать элемент" создается копия последнего
        добавленного элемента и добавляется на страницу.
        5. Все элементы имеют класс .box и стилизованы с помощью CSS (см. пример).
        6. Элементы могут быть добавлены, удалены и клонированы в любом порядке и в
        любом количестве.
    -->
    <button id="add">Добавить элемент</button>
    <button id="remove">Удалить элемент</button>
    <button id="clone">Клонировать элемент</button>
    <div class="container" id="container">
      <div class="box">1</div>
      <div class="box">2</div>
      <div class="box">3</div>
    </div>
    <script>
      add.addEventListener("click", function (e) {
        const newBox = document.createElement("div");
        newBox.classList.add("box");
        newBox.textContent = container.children.length + 1;
        container.append(newBox);
      });
      remove.addEventListener("click", function (e) {
        if (container.children.length > 0) {
          const lastBox = container.lastElementChild;
          container.removeChild(lastBox);
        }
      });
      clone.addEventListener("click", function (e) {
        if (container.children.length > 0) {
          const lastBox = container.lastElementChild;
          const clone = lastBox.cloneNode(true);
          container.append(clone);
        }
      });
    </script>
    <!-- 
    1. Определение текущего размера окна браузера:
        ○ Напишите функцию, которая будет выводить текущую
        ширину и высоту окна браузера при его изменении.
    -->
    <section class="task">
      <h1>Определение текущего размера окна браузера</h1>
      <p>Ширина окна: <span class="window-size" id="width"></span> px</p>
      <p>Высота окна: <span class="window-size" id="height"></span> px</p>
    </section>

    <script>
      const updateWindowSise = () => {
        const widthEl = window.innerWidth;
        const heightEl = window.innerHeight;

        const windowSizeElement = document.querySelectorAll(".window-size");

        width.textContent = widthEl;
        height.textContent = heightEl;
      };

      window.addEventListener("load", updateWindowSise);
      window.addEventListener("resize", updateWindowSise);
    </script>

    <!-- 
    2. Подтверждение закрытия страницы:
        ○ Создайте всплывающее окно или диалоговое окно,
        которое появляется при попытке закрыть вкладку
        браузера и спрашивает пользователя, уверен ли он в
        своем решении закрыть страницу.
    -->
    <section class="task">
      <h1>Подтверждение закрытия страницы</h1>
      <p>Это страница с подтверждение закрытия</p>
    </section>

    <script>
      window.addEventListener("beforeunload", function (e) {
        e.preventDefault();
        e.returnValue = "Text";
      });
    </script>

    <!-- 
    3. Управление историей переходов:
        ○ Используйте объект history для управления историей
        переходов на веб-странице. Создайте кнопки "Назад" и
        "Вперед" для перемещения по истории.
    -->

    <section class="task">
      <h1>Управление историей переходов</h1>
      <button class="history-button" id="goBack">Назад</button>
      <button class="history-button" id="goForward">Вперед</button>
    </section>
    <script>
      goBack.addEventListener("load", function (e) {
        window.history.back();
      });
      goForward.addEventListener("load", function (e) {
        window.history.forward();
      });
    </script>
  </body>
</html>
